<main>
  <form [formGroup]="form">
    <input type="text" formControlName="term" />
    <select formControlName="category">
      @defer {
      <option value="">All Categories</option>
      @for (category of categories(); track category) {
      <option [value]="category">{{ category }}</option>
      } } @loading (minimum 2s) {
      <option value="">Loading categories...</option>
      }
    </select>
  </form>
  @defer { @for (product of products(); track product.id) {
  <div>
    <p>{{ product.name }}</p>
    <p>{{ product.description }}</p>
    <p>{{ product.category }}</p>
    <p>{{ product.price }}</p>
    <p>{{ product.created_at }}</p>
  </div>
  } } @placeholder {
  <p>Future products..</p>
  } @loading (minimum 2s) {
  <p>Loading products...</p>
  }
</main>

<router-outlet />
