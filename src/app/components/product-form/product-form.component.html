<form
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
  class="flex flex-col gap-4 max-w-2xl mx-auto"
>
  <p-fluid class="space-y-4">
    <div class="field">
      <p-float-label variant="in">
        <input
          pInputText
          id="name"
          formControlName="name"
          [class.ng-invalid]="
            form.get('name')?.invalid && form.get('name')?.touched
          "
        />
        <label for="name">Product Name</label>
      </p-float-label>
      @if (form.get('name')?.invalid && form.get('name')?.touched) {
      <small class="text-red-500"> Product name is required </small>
      }
    </div>

    <div class="field">
      <p-float-label variant="in">
        <textarea
          pTextarea
          id="description"
          formControlName="description"
          rows="5"
          cols="30"
          autoResize="true"
          class="ng-invalid"
          [class.ng-invalid]="
            form.get('description')?.invalid && form.get('description')?.touched
          "
        ></textarea>
        <label for="description">Description</label>
      </p-float-label>
      @if (form.get('description')?.invalid && form.get('description')?.touched)
      {
      <small class="text-red-500"> Description is required </small>
      }
    </div>

    <div class="field">
      <p-float-label variant="in">
        <p-inputNumber
          id="price"
          formControlName="price"
          mode="currency"
          currency="USD"
          locale="en-US"
          [class.ng-invalid]="
            form.get('price')?.invalid && form.get('price')?.touched
          "
        ></p-inputNumber>
        <label for="price">Price</label>
      </p-float-label>
      @if(form.get('price')?.invalid && form.get('price')?.touched) {
      <small class="text-red-500"> Price is required </small>
      }
    </div>

    <div class="field">
      <p-float-label variant="in">
        <p-select
          [options]="categories"
          formControlName="category"
          id="category"
          [checkmark]="true"
          [showClear]="form.get('category')?.value !== ''"
          [class.ng-invalid]="
            form.get('category')?.invalid && form.get('category')?.touched
          "
        ></p-select>
        <label for="category">Select a category...</label>
      </p-float-label>
      @if (form.get('category')?.invalid && form.get('category')?.touched) {
      <small class="text-red-500"> Category is required </small>
      }
    </div>

    <div class="field-checkbox">
      <p-checkbox
        formControlName="featured"
        [binary]="true"
        id="featured"
      ></p-checkbox>
      <label for="featured" class="ml-2">Featured Product</label>
    </div>

    <div class="flex justify-between mt-4 space-x-4">
      <p-button type="button" variant="outlined" (click)="cancel.emit()">
        Cancel
      </p-button>
      <p-button
        type="submit"
        [disabled]="form.invalid"
        class="disabled:cursor-not-allowed"
      >
        {{ submitLabel }}
      </p-button>
    </div>
  </p-fluid>
</form>
